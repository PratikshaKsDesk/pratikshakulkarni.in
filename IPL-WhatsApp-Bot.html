<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>WhatsApp Bot ‚Äì Gentle Nudge (Mock)</title>
<style>
  :root{
    --bg:#0b141a; --panel:#111b21; --incoming:#202c33; --outgoing:#005c4b; --text:#e9edef; --muted:#94a3b8; --brand:#25d366; --btn:#1fa855;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(135deg,#0b141a,#111b21);} 
  .wrap{display:flex;align-items:center;justify-content:center;min-height:100%;padding:24px;}
  .phone{width:380px;max-width:92vw;background:var(--panel);border-radius:24px;box-shadow:0 20px 60px rgba(0,0,0,.45), inset 0 0 0 2px rgba(255,255,255,.03);overflow:hidden;border:1px solid rgba(255,255,255,.06)}
  .statusbar{height:44px;display:flex;align-items:center;justify-content:space-between;padding:0 16px;color:var(--muted);font-size:12px;background:#0e171c}
  .chathead{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.06);background:#0f1a20}
  .avatar{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#2dd4bf,#22d3ee);box-shadow:0 0 0 2px #0f1a20}
  .title{display:flex;flex-direction:column}
  .title b{color:var(--text);font-size:14px}
  .title span{color:var(--muted);font-size:12px}
  .chat{height:520px;max-height:62vh;overflow:auto;padding:16px;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><g fill="%23111b21" fill-opacity="0.35"><circle cx="10" cy="10" r="1"/><circle cx="60" cy="60" r="1"/><circle cx="110" cy="30" r="1"/><circle cx="30" cy="90" r="1"/></g></svg>') repeat}
  .bubble{max-width:78%;margin:8px 0;padding:10px 12px;border-radius:14px;line-height:1.45;font-size:14px;color:var(--text);box-shadow:0 1px 0 rgba(0,0,0,.15)}
  .in{background:var(--incoming);border-top-left-radius:4px}
  .out{background:var(--outgoing);border-top-right-radius:4px;margin-left:auto}
  .meta{display:block;margin-top:6px;color:#cbd5e1;font-size:11px;opacity:.7}
  .choices{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0}
  .btn{background:var(--btn);color:white;border:none;border-radius:999px;padding:10px 14px;font-size:13px;cursor:pointer;box-shadow:0 6px 16px rgba(31,168,85,.25)}
  .btn.secondary{background:#2f3c44}
  .footer{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#0f1a20;border-top:1px solid rgba(255,255,255,.06)}
  .input{flex:1;background:#1e2a30;border:none;border-radius:20px;color:var(--text);padding:12px 14px;font-size:14px;opacity:.6}
  .send{background:var(--brand);border:none;border-radius:50%;width:40px;height:40px;color:#032;cursor:pointer;box-shadow:0 8px 18px rgba(37,211,102,.3)}
  .tag{display:inline-block;margin-left:8px;padding:2px 8px;border-radius:999px;background:#24323a;color:#9cc6b4;font-size:11px}
  .hint{color:#9aa6af;font-size:12px;margin-top:4px}
  a.cta{color:#9ae6b4}
</style>
</head>
<body>
<div class="wrap">
  <div class="phone" role="application" aria-label="WhatsApp bot mock">
    <div class="statusbar"><span>9:41</span><span>LTE ‚óè ‚óè ‚óè üì∂ üîã</span></div>
    <div class="chathead">
      <div class="avatar"></div>
      <div class="title"><b>IPL Career Coach</b><span>online ‚Ä¢ auto-replies</span></div>
    </div>
    <div id="chat" class="chat" aria-live="polite">
      <div class="bubble in">Hey <b><span id="nameSlot">there</span></b> üëã still thinking about upgrading your career ‚Äî <b>now</b> or <b>later</b>?<div class="meta">Reply STOP to opt out</div></div>
      <div class="choices" id="c0">
        <button class="btn" data-next="now1">Start now</button>
        <button class="btn" data-next="later1">Later</button>
        <button class="btn" data-next="unsure1">Not sure</button>
      </div>
    </div>
    <div class="footer">
      <input class="input" placeholder="Buttons only in this demo" disabled>
      <button class="send" title="Send" disabled>‚û§</button>
    </div>
  </div>
</div>

<script>
  const chat = document.getElementById('chat');
  const name = new URLSearchParams(location.search).get('name') || '';
  if(name) document.getElementById('nameSlot').textContent = name;

  const flows = {
    now1: {
      user: 'Start now',
      bot: 'Great, let\'s move! Pick one:',
      buttons:[
        {label:'Book 15-min call', next:'now_call'},
        {label:'Join free session', next:'now_event'},
        {label:'Browse programs', next:'now_browse'}
      ],
      tag:'intent=now'
    },
    later1: {
      user: 'Later',
      bot: 'No rush. When should we remind you?',
      buttons:[
        {label:'Next batch', next:'remind_batch'},
        {label:'Next month', next:'remind_month'},
        {label:'Quarterly', next:'remind_qtr'}
      ],
      tag:'intent=later'
    },
    unsure1: {
      user: 'Not sure',
      bot: 'What\'s holding you back?',
      buttons:[
        {label:'Time', next:'blk_time'},
        {label:'Money', next:'blk_money'},
        {label:'Clarity', next:'blk_clarity'}
      ],
      tag:'intent=unsure'
    },

    now_call: { user:'Book 15-min call', bot:'Booked link sent. Need help?', buttons:[{label:'Chat with advisor', next:'help_now'},{label:'Back', next:'home'}]},
    now_event:{ user:'Join free session', bot:'Invite sent. See you!', buttons:[{label:'Add to calendar', next:'add_cal'},{label:'Back', next:'home'}]},
    now_browse:{ user:'Browse programs', bot:'Sharing details now.', buttons:[{label:'Talk to mentor', next:'help_now'},{label:'Back', next:'home'}]},

    remind_batch:{ user:'Next batch', bot:'Noted üëç We\'ll remind you before next batch. Reply STOP to opt out.', buttons:[{label:'Change reminder', next:'later1'},{label:'Back', next:'home'}]},
    remind_month:{ user:'Next month', bot:'Cool. Reminder set for next month. Reply STOP to opt out.', buttons:[{label:'Change reminder', next:'later1'},{label:'Back', next:'home'}]},
    remind_qtr:{ user:'Quarterly', bot:'Done. Quarterly reminder set. Reply STOP to opt out.', buttons:[{label:'Change reminder', next:'later1'},{label:'Back', next:'home'}]},

    blk_time:{ user:'Time', bot:'Try 1‚Äëmin daily tips?', buttons:[{label:'Subscribe', next:'sub_tips'},{label:'Back', next:'home'}], tag:'blocker=time'},
    blk_money:{ user:'Money', bot:'See EMI & scholarships?', buttons:[{label:'Show options', next:'show_emi'},{label:'Back', next:'home'}], tag:'blocker=money'},
    blk_clarity:{ user:'Clarity', bot:'Want a 10‚Äëmin fit check?', buttons:[{label:'Quick quiz', next:'quiz'},{label:'Talk to mentor', next:'help_now'}], tag:'blocker=clarity'},

    sub_tips:{ user:'Subscribe', bot:'Done ‚úÖ You\'ll get 1‚Äëmin tips daily. STOP to opt out.', buttons:[{label:'Back', next:'home'}]},
    show_emi:{ user:'Show options', bot:'Sharing EMI/scholarship info‚Ä¶', buttons:[{label:'Back', next:'home'}]},
    quiz:{ user:'Quick quiz', bot:'Quiz link sent. Takes 2 minutes.', buttons:[{label:'Back', next:'home'}]},
    help_now:{ user:'Talk to mentor', bot:'Advisor will reach out shortly.', buttons:[{label:'Back', next:'home'}]},
    add_cal:{ user:'Add to calendar', bot:'Calendar invite sent üìÖ', buttons:[{label:'Back', next:'home'}]},

    home:{ user:'Back', bot:'Anything else?', buttons:[{label:'Free session', next:'now_event'},{label:'Book a call', next:'now_call'},{label:'Remind me later', next:'later1'}]}
  };

  function append(type, text){
    const el = document.createElement('div');
    el.className = 'bubble ' + (type==='user'?'out':'in');
    el.innerHTML = text;
    chat.appendChild(el);
    chat.scrollTop = chat.scrollHeight;
  }

  function renderButtons(list){
    const wrap = document.createElement('div');
    wrap.className = 'choices';
    list.forEach(b=>{
      const btn = document.createElement('button');
      btn.className = 'btn';
      btn.textContent = b.label;
      btn.addEventListener('click', ()=> step(b.next));
      wrap.appendChild(btn);
    })
    chat.appendChild(wrap);
    chat.scrollTop = chat.scrollHeight;
  }

  function clearChoices(){
    document.querySelectorAll('.choices').forEach(n=>n.remove());
  }

  function step(next){
    clearChoices();
    const node = flows[next];
    if(!node) return;
    append('user', node.user);
    setTimeout(()=>{
      append('bot', node.bot + (node.tag?` <span class="tag">${node.tag}</span>`:''));
      if(node.buttons) renderButtons(node.buttons);
    }, 450);
  }

  // init button listeners
  document.getElementById('c0').addEventListener('click', (e)=>{
    if(e.target.matches('button[data-next]')){
      step(e.target.getAttribute('data-next'));
    }
  });
</script>
</body>
</html>
